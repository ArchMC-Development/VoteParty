plugins {
	id 'java'
	id 'org.jetbrains.kotlin.jvm' version '1.3.61'
	id 'com.github.johnrengelman.shadow' version '5.1.0'

}

group 'me.clip'
version '2.0'


repositories {
	mavenCentral()
	
	maven {
		url = "https://papermc.io/repo/repository/maven-public/"
	}
	maven {
		url = "https://repo.glaremasters.me/repository/public/"
	}
}

dependencies {
	// kotlin
	compileOnly "org.jetbrains.kotlin:kotlin-reflect"
	compileOnly "org.jetbrains.kotlin:kotlin-stdlib-jdk8"
	
	
	// spigot
	compileOnly "org.spigotmc:spigot-api:+"
	
	
	// libraries
	implementation "net.byteflux:libby-bukkit:0.0.2-SNAPSHOT"
	implementation "co.aikar:acf-paper:0.5.0-SNAPSHOT"
	
	compileOnly "com.sxtanna.korm:Korm:+"
	compileOnly "com.konghq:unirest-java:3.3.00"
	
	compileOnly fileTree(dir: 'gradle/depends', include: ['*.jar'])
	
	
	// testing
	testCompile "org.junit.jupiter:junit-jupiter-engine:5.4.2"
	testRuntime "org.junit.jupiter:junit-jupiter-engine:5.4.2"
}



test {
	useJUnitPlatform()
}

shadowJar {
	minimize()
	relocate("co.aikar.commands", "me.clip.voteparty.libs.acf")
}

sourceSets {
	test.compileClasspath += configurations.compileOnly
	test.runtimeClasspath += configurations.compileOnly
}

sourceCompatibility = JavaVersion.VERSION_1_8
targetCompatibility = JavaVersion.VERSION_1_8

compileKotlin {
	kotlinOptions.jvmTarget = JavaVersion.VERSION_1_8
}
compileTestKotlin {
	kotlinOptions.jvmTarget = JavaVersion.VERSION_1_8
}